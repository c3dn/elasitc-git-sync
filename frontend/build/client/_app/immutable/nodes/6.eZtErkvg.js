import"../chunks/CWj6FrbW.js";import{i as G}from"../chunks/DBRSZtkI.js";import{e as I,w as T,x as O,Z as M,at as R,c as U,f as q,a as w,p as J,au as Z,t as N,b as B,g as p,d as S,$ as K,r as f,n as g,i as y,h as P,s as j,m as Q}from"../chunks/CbRa-Z4u.js";import{s as V}from"../chunks/CdzGu8ER.js";import{i as D}from"../chunks/CoDRCLiZ.js";import{h as W}from"../chunks/Bj3l4WMm.js";import{l as X,s as Y,p as tt}from"../chunks/BjUZiTXz.js";import{i as rt,a as et,b as at,c as st}from"../chunks/CilZWO1z.js";import{I as ot,s as it}from"../chunks/DZIrD1K_.js";import{C as nt}from"../chunks/BF-NTyZp.js";function lt(r,l,o){I(()=>{var a=T(()=>l(r,o==null?void 0:o())||{});if(o&&(a!=null&&a.update)){var t=!1,c={};O(()=>{var s=o();M(s),t&&R(c,s)&&(c=s,a.update(s))}),t=!0}if(a!=null&&a.destroy)return()=>a.destroy()})}function F(r,l){const o=X(l,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]];ot(r,Y({name:"log-in"},()=>o,{get iconNode(){return a},children:(t,c)=>{var s=U(),d=q(s);it(d,l,"default",{}),w(t,s)},$$slots:{default:!0}}))}function ct(r){const l=JSON.parse(r);return l.data&&(l.data=at(l.data,st.decoders)),l}function L(r){return HTMLElement.prototype.cloneNode.call(r)}function k(r,l=()=>{}){const o=async({action:t,result:c,reset:s=!0,invalidateAll:d=!0})=>{c.type==="success"&&(s&&HTMLFormElement.prototype.reset.call(r),d&&await rt()),(location.origin+location.pathname===t.origin+t.pathname||c.type==="redirect"||c.type==="error")&&await et(c)};async function a(t){var _,b,E;if(((_=t.submitter)!=null&&_.hasAttribute("formmethod")?t.submitter.formMethod:L(r).method)!=="post")return;t.preventDefault();const s=new URL((b=t.submitter)!=null&&b.hasAttribute("formaction")?t.submitter.formAction:L(r).action),d=(E=t.submitter)!=null&&E.hasAttribute("formenctype")?t.submitter.formEnctype:L(r).enctype,u=new FormData(r,t.submitter),v=new AbortController;let h=!1;const x=await l({action:s,cancel:()=>h=!0,controller:v,formData:u,formElement:r,submitter:t.submitter})??o;if(h)return;let m;try{const i=new Headers({accept:"application/json","x-sveltekit-action":"true"});d!=="multipart/form-data"&&i.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(d)?d:"application/x-www-form-urlencoded");const $=d==="multipart/form-data"?u:new URLSearchParams(u),e=await fetch(s,{method:"POST",headers:i,cache:"no-store",body:$,signal:v.signal});m=ct(await e.text()),m.type==="error"&&(m.status=e.status)}catch(i){if((i==null?void 0:i.name)==="AbortError")return;m={type:"error",error:i}}await x({action:s,formData:u,formElement:r,update:i=>o({action:s,result:m,reset:i==null?void 0:i.reset,invalidateAll:i==null?void 0:i.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(r,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(r,"submit",a)}}}var dt=S('<div class="mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3"><!> <p class="text-sm text-red-800"> </p></div>'),mt=S('<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div> Signing in...',1),pt=S("<!> Sign In",1),ft=S('<div class="min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4"><div class="w-full max-w-md"><div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4"><!></div> <h1 class="text-3xl font-bold text-gray-900">Elastic Git Sync</h1> <p class="text-gray-600 mt-2">Sign in to manage your security rules</p></div> <div class="bg-white rounded-2xl shadow-xl p-8"><h2 class="text-2xl font-semibold text-gray-900 mb-6">Sign In</h2> <!> <form method="POST" class="space-y-5"><div><label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label> <input id="email" name="email" type="email" required placeholder="admin@example.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-colors"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label> <input id="password" name="password" type="password" required placeholder="Enter your password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-colors"/></div> <button type="submit" class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium"><!></button></form> <div class="mt-6 pt-6 border-t border-gray-200"><p class="text-sm text-gray-600 text-center">Need help? Contact your administrator to create an account.</p></div></div> <p class="text-center text-sm text-gray-600 mt-6">Elastic Git Sync v1.0.0 â€¢ Secure Authentication</p></div></div>');function At(r,l){J(l,!1);let o=tt(l,"form",12),a=Q(!1);G();var t=ft();W("1x05zx6",e=>{I(()=>{K.title="Login - Elastic Git Sync"})});var c=p(t),s=p(c),d=p(s),u=p(d);F(u,{class:"w-8 h-8 text-white"}),f(d),g(4),f(s);var v=y(s,2),h=y(p(v),2);{var C=e=>{var n=dt(),A=p(n);nt(A,{class:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"});var H=y(A,2),z=p(H,!0);f(H),f(n),N(()=>V(z,(M(o()),T(()=>o().error)))),w(e,n)};D(h,e=>{M(o()),T(()=>{var n;return(n=o())==null?void 0:n.error})&&e(C)})}var x=y(h,2),m=p(x),_=y(p(m),2);Z(_,!0),f(m);var b=y(m,4),E=p(b);{var i=e=>{var n=mt();g(),w(e,n)},$=e=>{var n=pt(),A=q(n);F(A,{class:"w-5 h-5"}),g(),w(e,n)};D(E,e=>{P(a)?e(i):e($,!1)})}f(b),f(x),lt(x,(e,n)=>k==null?void 0:k(e,n),()=>()=>(j(a,!0),o(null),async({result:e,update:n})=>{j(a,!1),e.type==="redirect"?window.location.href=e.location:await n()})),g(2),f(v),g(2),f(c),f(t),N(()=>b.disabled=P(a)),w(r,t),B()}export{At as component};
