var k=Object.defineProperty;var U=s=>{throw TypeError(s)};var ee=(s,e,r)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var j=(s,e,r)=>ee(s,typeof e!="symbol"?e+"":e,r),Y=(s,e,r)=>e.has(s)||U("Cannot "+r);var n=(s,e,r)=>(Y(s,e,"read from private field"),r?r.call(s):e.get(s)),h=(s,e,r)=>e.has(s)?U("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),q=(s,e,r,t)=>(Y(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{q as K,a2 as se,a3 as E,a4 as re,G as $,a5 as C,v as te,L as ne,a6 as ie,a7 as ae,a8 as fe,a9 as ue,aa as F,m as ce,ab as oe,ac as le,i as g,s as Z,ad as R,ae as de,af as H,P as pe,ag as L,ah as he,ai as _e,aj as ve,w as be,ak as me,al as Pe,am as Se,_ as we,N as ge,a1 as G,an as z,ao as w,ap as J,aq as Q,ar as Oe,as as xe}from"./Dwc5JcvW.js";var l,p,c,_,O,x,D;class Me{constructor(e,r=!0){j(this,"anchor");h(this,l,new Map);h(this,p,new Map);h(this,c,new Map);h(this,_,new Set);h(this,O,!0);h(this,x,()=>{var e=K;if(n(this,l).has(e)){var r=n(this,l).get(e),t=n(this,p).get(r);if(t)se(t),n(this,_).delete(r);else{var i=n(this,c).get(r);i&&(n(this,p).set(r,i.effect),n(this,c).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[a,o]of n(this,l)){if(n(this,l).delete(a),a===e)break;const f=n(this,c).get(o);f&&(E(f.effect),n(this,c).delete(o))}for(const[a,o]of n(this,p)){if(a===r||n(this,_).has(a))continue;const f=()=>{if(Array.from(n(this,l).values()).includes(a)){var v=document.createDocumentFragment();ie(o,v),v.append($()),n(this,c).set(a,{effect:o,fragment:v})}else E(o);n(this,_).delete(a),n(this,p).delete(a)};n(this,O)||!t?(n(this,_).add(a),re(o,f,!1)):f()}}});h(this,D,e=>{n(this,l).delete(e);const r=Array.from(n(this,l).values());for(const[t,i]of n(this,c))r.includes(t)||(E(i.effect),n(this,c).delete(t))});this.anchor=e,q(this,O,r)}ensure(e,r){var t=K,i=ae();if(r&&!n(this,p).has(e)&&!n(this,c).has(e))if(i){var a=document.createDocumentFragment(),o=$();a.append(o),n(this,c).set(e,{effect:C(()=>r(o)),fragment:a})}else n(this,p).set(e,C(()=>r(this.anchor)));if(n(this,l).set(t,e),i){for(const[f,d]of n(this,p))f===e?t.skipped_effects.delete(d):t.skipped_effects.add(d);for(const[f,d]of n(this,c))f===e?t.skipped_effects.delete(d.effect):t.skipped_effects.add(d.effect);t.oncommit(n(this,x)),t.ondiscard(n(this,D))}else te&&(this.anchor=ne),n(this,x).call(this)}}l=new WeakMap,p=new WeakMap,c=new WeakMap,_=new WeakMap,O=new WeakMap,x=new WeakMap,D=new WeakMap;let I=!1,M=Symbol();function Le(s,e,r){const t=r[e]??(r[e]={store:null,source:ce(void 0),unsubscribe:F});if(t.store!==s&&!(M in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=F;else{var i=!0;t.unsubscribe=oe(s,a=>{i?t.source.v=a:Z(t.source,a)}),i=!1}return s&&M in r?le(s):g(t.source)}function Te(){const s={};function e(){fe(()=>{for(var r in s)s[r].unsubscribe();ue(s,M,{enumerable:!1,value:!0})})}return[s,e]}function ye(s){var e=I;try{return I=!1,[s(),I]}finally{I=e}}const Ie={get(s,e){if(!s.exclude.includes(e))return g(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=L;try{z(s.parent_effect),s.special[e]=Ae({get[e](){return s.props[e]}},e,H)}finally{z(t)}}return s.special[e](r),G(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),G(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Be(s,e){return new Proxy({props:s,exclude:e,special:{},version:_e(0),parent_effect:L},Ie)}const De={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];w(i)&&(i=i());const a=R(i,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=R(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===J||e===Q)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ne(...s){return new Proxy({props:s},De)}function Ae(s,e,r,t){var B;var i=!me||(r&Pe)!==0,a=(r&ve)!==0,o=(r&Oe)!==0,f=t,d=!0,v=()=>(d&&(d=!1,f=o?be(t):t),f),m;if(a){var V=J in s||Q in s;m=((B=R(s,e))==null?void 0:B.set)??(V&&e in s?u=>s[e]=u:void 0)}var P,T=!1;a?[P,T]=ye(()=>s[e]):P=s[e],P===void 0&&t!==void 0&&(P=v(),m&&(i&&de(),m(P)));var b;if(i?b=()=>{var u=s[e];return u===void 0?v():(d=!0,u)}:b=()=>{var u=s[e];return u!==void 0&&(f=void 0),u===void 0?f:u},i&&!(r&H))return b;if(m){var W=s.$$legacy;return function(u,y){return arguments.length>0?((!i||!y||W||T)&&m(y?b():u),u):b()}}var A=!1,S=(r&Se?we:ge)(()=>(A=!1,b()));a&&g(S);var X=L;return function(u,y){if(arguments.length>0){const N=y?g(S):i&&a?pe(u):u;return Z(S,N),A=!0,f!==void 0&&(f=N),u}return xe&&A||X.f&he?S.v:g(S)}}export{Me as B,Te as a,Le as b,Be as l,Ae as p,Ne as s};
